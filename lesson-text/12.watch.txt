watch()

Важной функцией из встроенных в основной пакет Gulp является функция watch().
Как можно понять по её названию, её основная цель — отслеживание.

Функционал и применение значительно шире, функции watch() чем при использовании
уже изученных команд, например src(). Watch — это не просто функция внутри задачи,
а это и есть задача сама по себе, которая начинает свою работу сразу при выполнении
команды gulp и завершает свою работу при завершении работы всего скрипта.


Для начала разберёмся, как задать отслеживание файла. Для этого используется
сама функция watch(), которая принимает три основных параметра:

1. Пути к отслеживаемым файлам
2. Параметры отслеживания
3. Функция или задача, которая вызывается при изменении файла

Второй параметр часто опускают, и тогда вотчер (так часто называют
функции, которые занимаются отслеживанием каких-либо действий) выглядит
примерно следующим образом:

См. ./../lesson-file/gulpfile [watch-first].js
См. ./../images/watch-first.png

Важно: в качестве пути можно использовать уже изученные Globs. Так же это не
обязательно должен быть файл. В качестве пути можно указать целую директорию и
там будут свои события, о них мы поговорим ниже


Функция, которая была передана в качестве аргумента watch() ничем не отличается от
того, что использовалось в прошлых уроках. Главное отличие — она не имеет названия,
такие функции ещё называют анонимными. Это не обязательное требование, например, мы
можем создать функцию и указать её название в качестве параметра. Это не изменит
поведение работы watch. То есть пример выше равнозначен следующему примеру:

См. ./../lesson-file/gulpfile [watch-second].js
См. ./../images/watch-second.png

Обратите внимание, что во втором примере при изменении файла Gulp
пишет название функции, которая вызывалась, потому что теперь
она не анонимная. При изменении файла вызывается функция
changeAppStylesFile(), что видно в выводах самого Gulp.